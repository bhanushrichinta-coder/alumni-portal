{
	"info": {
		"_postman_id": "chat-module-009",
		"name": "09 - Chat API (AI)",
		"description": "AI-powered chat endpoints with RAG (Retrieval Augmented Generation)",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Send Chat Message",
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{access_token}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"message\": \"What are the upcoming events?\",\n    \"session_id\": null\n}"
				},
				"url": {
					"raw": "{{base_url}}/api/v1/chat/message",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"v1",
						"chat",
						"message"
					]
				},
				"description": "Send a chat message to AI assistant. Use null for session_id to create new session, or provide existing session_id to continue conversation."
			},
			"response": [
				{
					"name": "Success - New Session",
					"originalRequest": {
						"method": "POST",
						"header": [
							{"key": "Authorization", "value": "Bearer {{access_token}}"},
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"message\": \"What are the upcoming events?\",\n    \"session_id\": null\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/chat/message",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "chat", "message"]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [{"key": "Content-Type", "value": "application/json"}],
					"cookie": [],
					"body": "{\n    \"message\": \"What are the upcoming events?\",\n    \"response\": \"Here are the upcoming events:\\n\\n1. Alumni Networking Event - December 20, 2025\\n2. Tech Conference 2026 - January 15, 2026\\n\\nWould you like more details about any specific event?\",\n    \"session_id\": 1,\n    \"tokens_used\": 150\n}"
				},
				{
					"name": "Success - Existing Session",
					"originalRequest": {
						"method": "POST",
						"header": [
							{"key": "Authorization", "value": "Bearer {{access_token}}"},
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"message\": \"Tell me more about the networking event\",\n    \"session_id\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/chat/message",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "chat", "message"]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [{"key": "Content-Type", "value": "application/json"}],
					"cookie": [],
					"body": "{\n    \"message\": \"Tell me more about the networking event\",\n    \"response\": \"The Alumni Networking Event is scheduled for December 20, 2025 from 6:00 PM to 9:00 PM at Tech Hub in San Francisco. It's a great opportunity to connect with fellow alumni and industry professionals. Registration deadline is December 18.\",\n    \"session_id\": 1,\n    \"tokens_used\": 200\n}"
				}
			]
		},
		{
			"name": "List Chat Sessions",
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{access_token}}",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/v1/chat/sessions",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"v1",
						"chat",
						"sessions"
					]
				},
				"description": "List all chat sessions for current user"
			},
			"response": [
				{
					"name": "Success",
					"originalRequest": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{access_token}}"}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/chat/sessions",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "chat", "sessions"]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [{"key": "Content-Type", "value": "application/json"}],
					"cookie": [],
					"body": "[\n    {\n        \"id\": 1,\n        \"user_id\": 5,\n        \"title\": \"Chat Session 1\",\n        \"created_at\": \"2025-12-11T10:00:00\",\n        \"updated_at\": \"2025-12-11T10:00:00\"\n    },\n    {\n        \"id\": 2,\n        \"user_id\": 5,\n        \"title\": \"Chat Session 2\",\n        \"created_at\": \"2025-12-11T11:00:00\",\n        \"updated_at\": \"2025-12-11T11:00:00\"\n    }\n]"
				}
			]
		},
		{
			"name": "Get Chat Session with Messages",
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{access_token}}",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/v1/chat/sessions/1",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"v1",
						"chat",
						"sessions",
						"1"
					]
				},
				"description": "Get chat session with all messages (owner only)"
			},
			"response": [
				{
					"name": "Success",
					"originalRequest": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{access_token}}"}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/chat/sessions/1",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "chat", "sessions", "1"]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [{"key": "Content-Type", "value": "application/json"}],
					"cookie": [],
					"body": "{\n    \"id\": 1,\n    \"user_id\": 5,\n    \"title\": \"Chat Session 1\",\n    \"created_at\": \"2025-12-11T10:00:00\",\n    \"updated_at\": \"2025-12-11T10:00:00\",\n    \"messages\": [\n        {\n            \"id\": 1,\n            \"session_id\": 1,\n            \"role\": \"user\",\n            \"content\": \"What are the upcoming events?\",\n            \"tokens_used\": 10,\n            \"created_at\": \"2025-12-11T10:00:00\"\n        },\n        {\n            \"id\": 2,\n            \"session_id\": 1,\n            \"role\": \"assistant\",\n            \"content\": \"Here are the upcoming events:\\n\\n1. Alumni Networking Event - December 20, 2025\\n2. Tech Conference 2026 - January 15, 2026\",\n            \"tokens_used\": 150,\n            \"created_at\": \"2025-12-11T10:00:05\"\n        }\n    ]\n}"
				},
				{
					"name": "Not Found",
					"originalRequest": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{access_token}}"}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/chat/sessions/999",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "chat", "sessions", "999"]
						}
					},
					"status": "Not Found",
					"code": 404,
					"_postman_previewlanguage": "json",
					"header": [{"key": "Content-Type", "value": "application/json"}],
					"cookie": [],
					"body": "{\n    \"detail\": \"Chat session not found\"\n}"
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "https://alumni-portal-yw7q.onrender.com",
			"type": "string"
		}
	]
}

